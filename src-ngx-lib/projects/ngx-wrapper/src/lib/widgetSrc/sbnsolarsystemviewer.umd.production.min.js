!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("three"),require("uuid"),require("julian"),require("react-icons/fi"),require("react-icons/ai"),require("react-icons/io"),require("react")):"function"==typeof define&&define.amd?define(["exports","three","uuid","julian","react-icons/fi","react-icons/ai","react-icons/io","react"],t):t((e=e||self).SbnSolarSystemViewer={},e.THREE,e.uuid,e.julian,e.fi,e.ai,e.io,e.React)}(this,(function(e,t,n,r,o,i,a,s){"use strict";function c(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,s,"next",e)}function s(e){c(i,r,o,a,s,"throw",e)}a(void 0)}))}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s;var p=function(e,t){return function(e){var t=function(e){var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=Object.create((t&&t.prototype instanceof h?t:h).prototype),i=new T(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,i),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var u={};function h(){}function p(){}function d(){}var f={};f[o]=function(){return this};var m=Object.getPrototypeOf,g=m&&m(m(A([])));g&&g!==t&&n.call(g,o)&&(f=g);var y=d.prototype=h.prototype=Object.create(f);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(o,i){function a(){return new t((function(r,a){!function r(o,i,a,s){var c=l(e[o],e,i);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(h).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function v(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(v,this),this.reset(!0)}function A(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=y.constructor=d,d.constructor=p,p.displayName=s(d,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,a,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},_(b.prototype),b.prototype[i]=function(){return this},e.AsyncIterator=b,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new b(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(y),s(y,a,"Generator"),y[o]=function(){return this},y.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}(t={exports:{}}),t.exports}();const d={type:"change"},f={type:"start"},m={type:"end"};class g extends t.EventDispatcher{constructor(e,n){super(),void 0===n&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),n===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=n,this.enabled=!0,this.target=new t.Vector3,this.minDistance=0,this.maxDistance=Infinity,this.minZoom=0,this.maxZoom=Infinity,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-Infinity,this.maxAzimuthAngle=Infinity,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:t.MOUSE.ROTATE,MIDDLE:t.MOUSE.DOLLY,RIGHT:t.MOUSE.PAN},this.touches={ONE:t.TOUCH.ROTATE,TWO:t.TOUCH.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return s.phi},this.getAzimuthalAngle=function(){return s.theta},this.listenToKeyEvents=function(e){e.addEventListener("keydown",X),this._domElementKeyEvents=e},this.saveState=function(){r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=function(){r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(d),r.update(),i=o.NONE},this.update=function(){const n=new t.Vector3,p=(new t.Quaternion).setFromUnitVectors(e.up,new t.Vector3(0,1,0)),f=p.clone().invert(),m=new t.Vector3,g=new t.Quaternion,y=2*Math.PI;return function(){const e=r.object.position;n.copy(e).sub(r.target),n.applyQuaternion(p),s.setFromVector3(n),r.autoRotate&&i===o.NONE&&P(2*Math.PI/60/60*r.autoRotateSpeed),r.enableDamping?(s.theta+=c.theta*r.dampingFactor,s.phi+=c.phi*r.dampingFactor):(s.theta+=c.theta,s.phi+=c.phi);let t=r.minAzimuthAngle,_=r.maxAzimuthAngle;return isFinite(t)&&isFinite(_)&&(t<-Math.PI?t+=y:t>Math.PI&&(t-=y),_<-Math.PI?_+=y:_>Math.PI&&(_-=y),s.theta=t<=_?Math.max(t,Math.min(_,s.theta)):s.theta>(t+_)/2?Math.max(t,s.theta):Math.min(_,s.theta)),s.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,s.phi)),s.makeSafe(),s.radius*=l,s.radius=Math.max(r.minDistance,Math.min(r.maxDistance,s.radius)),!0===r.enableDamping?r.target.addScaledVector(u,r.dampingFactor):r.target.add(u),n.setFromSpherical(s),n.applyQuaternion(f),e.copy(r.target).add(n),r.object.lookAt(r.target),!0===r.enableDamping?(c.theta*=1-r.dampingFactor,c.phi*=1-r.dampingFactor,u.multiplyScalar(1-r.dampingFactor)):(c.set(0,0,0),u.set(0,0,0)),l=1,!!(h||m.distanceToSquared(r.object.position)>a||8*(1-g.dot(r.object.quaternion))>a)&&(r.dispatchEvent(d),m.copy(r.object.position),g.copy(r.object.quaternion),h=!1,!0)}}(),this.dispose=function(){r.domElement.removeEventListener("contextmenu",K),r.domElement.removeEventListener("pointerdown",z),r.domElement.removeEventListener("wheel",U),r.domElement.removeEventListener("touchstart",Y),r.domElement.removeEventListener("touchend",Z),r.domElement.removeEventListener("touchmove",F),r.domElement.ownerDocument.removeEventListener("pointermove",j),r.domElement.ownerDocument.removeEventListener("pointerup",C),null!==r._domElementKeyEvents&&r._domElementKeyEvents.removeEventListener("keydown",X)};const r=this,o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let i=o.NONE;const a=1e-6,s=new t.Spherical,c=new t.Spherical;let l=1;const u=new t.Vector3;let h=!1;const p=new t.Vector2,g=new t.Vector2,y=new t.Vector2,_=new t.Vector2,b=new t.Vector2,w=new t.Vector2,v=new t.Vector2,E=new t.Vector2,T=new t.Vector2;function A(){return Math.pow(.95,r.zoomSpeed)}function P(e){c.theta-=e}function S(e){c.phi-=e}const L=function(){const e=new t.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),u.add(e)}}(),x=function(){const e=new t.Vector3;return function(t,n){!0===r.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(r.object.up,e)),e.multiplyScalar(t),u.add(e)}}(),O=function(){const e=new t.Vector3;return function(t,n){const o=r.domElement;if(r.object.isPerspectiveCamera){e.copy(r.object.position).sub(r.target);let i=e.length();i*=Math.tan(r.object.fov/2*Math.PI/180),L(2*t*i/o.clientHeight,r.object.matrix),x(2*n*i/o.clientHeight,r.object.matrix)}else r.object.isOrthographicCamera?(L(t*(r.object.right-r.object.left)/r.object.zoom/o.clientWidth,r.object.matrix),x(n*(r.object.top-r.object.bottom)/r.object.zoom/o.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}}();function M(e){r.object.isPerspectiveCamera?l/=e:r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*e)),r.object.updateProjectionMatrix(),h=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function I(e){r.object.isPerspectiveCamera?l*=e:r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/e)),r.object.updateProjectionMatrix(),h=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function k(e){p.set(e.clientX,e.clientY)}function N(e){_.set(e.clientX,e.clientY)}function R(e){1==e.touches.length?p.set(e.touches[0].pageX,e.touches[0].pageY):p.set(.5*(e.touches[0].pageX+e.touches[1].pageX),.5*(e.touches[0].pageY+e.touches[1].pageY))}function B(e){1==e.touches.length?_.set(e.touches[0].pageX,e.touches[0].pageY):_.set(.5*(e.touches[0].pageX+e.touches[1].pageX),.5*(e.touches[0].pageY+e.touches[1].pageY))}function D(e){const t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);v.set(0,r)}function G(e){1==e.touches.length?g.set(e.touches[0].pageX,e.touches[0].pageY):g.set(.5*(e.touches[0].pageX+e.touches[1].pageX),.5*(e.touches[0].pageY+e.touches[1].pageY)),y.subVectors(g,p).multiplyScalar(r.rotateSpeed);const t=r.domElement;P(2*Math.PI*y.x/t.clientHeight),S(2*Math.PI*y.y/t.clientHeight),p.copy(g)}function H(e){1==e.touches.length?b.set(e.touches[0].pageX,e.touches[0].pageY):b.set(.5*(e.touches[0].pageX+e.touches[1].pageX),.5*(e.touches[0].pageY+e.touches[1].pageY)),w.subVectors(b,_).multiplyScalar(r.panSpeed),O(w.x,w.y),_.copy(b)}function V(e){const t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+n*n);E.set(0,o),T.set(0,Math.pow(E.y/v.y,r.zoomSpeed)),M(T.y),v.copy(E)}function z(e){if(!1!==r.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){let n;switch(e.preventDefault(),r.domElement.focus?r.domElement.focus():window.focus(),e.button){case 0:n=r.mouseButtons.LEFT;break;case 1:n=r.mouseButtons.MIDDLE;break;case 2:n=r.mouseButtons.RIGHT;break;default:n=-1}switch(n){case t.MOUSE.DOLLY:if(!1===r.enableZoom)return;!function(e){v.set(e.clientX,e.clientY)}(e),i=o.DOLLY;break;case t.MOUSE.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===r.enablePan)return;N(e),i=o.PAN}else{if(!1===r.enableRotate)return;k(e),i=o.ROTATE}break;case t.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===r.enableRotate)return;k(e),i=o.ROTATE}else{if(!1===r.enablePan)return;N(e),i=o.PAN}break;default:i=o.NONE}i!==o.NONE&&(r.domElement.ownerDocument.addEventListener("pointermove",j),r.domElement.ownerDocument.addEventListener("pointerup",C),r.dispatchEvent(f))}(e)}}function j(e){if(!1!==r.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(!1!==r.enabled)switch(e.preventDefault(),i){case o.ROTATE:if(!1===r.enableRotate)return;!function(e){g.set(e.clientX,e.clientY),y.subVectors(g,p).multiplyScalar(r.rotateSpeed);const t=r.domElement;P(2*Math.PI*y.x/t.clientHeight),S(2*Math.PI*y.y/t.clientHeight),p.copy(g),r.update()}(e);break;case o.DOLLY:if(!1===r.enableZoom)return;!function(e){E.set(e.clientX,e.clientY),T.subVectors(E,v),T.y>0?M(A()):T.y<0&&I(A()),v.copy(E),r.update()}(e);break;case o.PAN:if(!1===r.enablePan)return;!function(e){b.set(e.clientX,e.clientY),w.subVectors(b,_).multiplyScalar(r.panSpeed),O(w.x,w.y),_.copy(b),r.update()}(e)}}(e)}}function C(e){switch(e.pointerType){case"mouse":case"pen":r.domElement.ownerDocument.removeEventListener("pointermove",j),r.domElement.ownerDocument.removeEventListener("pointerup",C),!1!==r.enabled&&(r.dispatchEvent(m),i=o.NONE)}}function U(e){!1===r.enabled||!1===r.enableZoom||i!==o.NONE&&i!==o.ROTATE||(e.preventDefault(),r.dispatchEvent(f),function(e){e.deltaY<0?I(A()):e.deltaY>0&&M(A()),r.update()}(e),r.dispatchEvent(m))}function X(e){!1!==r.enabled&&!1!==r.enablePan&&function(e){let t=!1;switch(e.code){case r.keys.UP:O(0,r.keyPanSpeed),t=!0;break;case r.keys.BOTTOM:O(0,-r.keyPanSpeed),t=!0;break;case r.keys.LEFT:O(r.keyPanSpeed,0),t=!0;break;case r.keys.RIGHT:O(-r.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),r.update())}(e)}function Y(e){if(!1!==r.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(r.touches.ONE){case t.TOUCH.ROTATE:if(!1===r.enableRotate)return;R(e),i=o.TOUCH_ROTATE;break;case t.TOUCH.PAN:if(!1===r.enablePan)return;B(e),i=o.TOUCH_PAN;break;default:i=o.NONE}break;case 2:switch(r.touches.TWO){case t.TOUCH.DOLLY_PAN:if(!1===r.enableZoom&&!1===r.enablePan)return;!function(e){r.enableZoom&&D(e),r.enablePan&&B(e)}(e),i=o.TOUCH_DOLLY_PAN;break;case t.TOUCH.DOLLY_ROTATE:if(!1===r.enableZoom&&!1===r.enableRotate)return;!function(e){r.enableZoom&&D(e),r.enableRotate&&R(e)}(e),i=o.TOUCH_DOLLY_ROTATE;break;default:i=o.NONE}break;default:i=o.NONE}i!==o.NONE&&r.dispatchEvent(f)}}function F(e){if(!1!==r.enabled)switch(e.preventDefault(),i){case o.TOUCH_ROTATE:if(!1===r.enableRotate)return;G(e),r.update();break;case o.TOUCH_PAN:if(!1===r.enablePan)return;H(e),r.update();break;case o.TOUCH_DOLLY_PAN:if(!1===r.enableZoom&&!1===r.enablePan)return;!function(e){r.enableZoom&&V(e),r.enablePan&&H(e)}(e),r.update();break;case o.TOUCH_DOLLY_ROTATE:if(!1===r.enableZoom&&!1===r.enableRotate)return;!function(e){r.enableZoom&&V(e),r.enableRotate&&G(e)}(e),r.update();break;default:i=o.NONE}}function Z(e){!1!==r.enabled&&(r.dispatchEvent(m),i=o.NONE)}function K(e){!1!==r.enabled&&e.preventDefault()}r.domElement.addEventListener("contextmenu",K),r.domElement.addEventListener("pointerdown",z),r.domElement.addEventListener("wheel",U,{passive:!1}),r.domElement.addEventListener("touchstart",Y,{passive:!1}),r.domElement.addEventListener("touchend",Z),r.domElement.addEventListener("touchmove",F,{passive:!1}),this.update()}}function y(e){return"\n\n   ______________________________    . \\  | / .\n  /                            / \\     \\ \\ / /\n |                            | ==========  - -\n  \\____________________________\\_/     / / \\ \\\n  ______________________________      \\  | / | \\\n /                            / \\     \\ \\ / /.   .\n|                            | ==========  - -\n \\____________________________\\_/     / / \\ \\    /\n   ______________________________   / |\\  | /  .\n  /                            / \\     \\ \\ / /\n |                            | ==========  -  - -\n  \\____________________________\\_/     / / \\ \\\n                                     .  / | \\  .\n\n  Are you trying to wreak havoc on the Universe!?!\n\n  "+e+"\n\n  Idiot.\n\n  "}function _(e){return 149597870700*e}var b,w,v,E=function(){var e=document.createElement("style");e.innerHTML='\n    @keyframes sbn-solar-system-viewer-fade-in {\n      from { opacity: 0; }\n      to   { opacity: 1; }\n    }\n\n    @keyframes sbn-solar-system-viewer-loader-spin {\n      0% { transform: rotate(0deg); }\n      100% { transform: rotate(360deg); }\n    }\n\n    .sbn-solar-system-viewer-input:focus{\n        outline-width: 0;\n    }\n\n    /**\n     *\n     * This is for styling the switches\n     *\n     */\n    .switch-text-container {\n      width: 100%;\n      height: 34px;\n      display: flex;\n      white-space: nowrap;\n    }\n\n    .switch-text-container > * {\n        flex: 1;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n\n    .switch-text-container .switch {\n      position: relative;\n      display: inline-block;\n      width: 60px;\n      height: 34px;\n    }\n\n    /* Hide default HTML checkbox */\n    .switch-text-container .switch input {\n      opacity: 0;\n      width: 0;\n      height: 0;\n    }\n\n    /* The slider */\n    .switch-text-container .slider {\n      position: absolute;\n      cursor: pointer;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background-color: #ccc;\n      background-color: red;\n      -webkit-transition: .4s;\n      transition: .4s;\n    }\n\n    .switch-text-container .slider:before {\n      position: absolute;\n      content: "";\n      height: 26px;\n      width: 26px;\n      left: 4px;\n      bottom: 4px;\n      background-color: white;\n      -webkit-transition: .4s;\n      transition: .4s;\n    }\n\n    .switch-text-container input:checked + .slider {\n      background-color: #2196F3;\n      background-color: blue;\n    }\n\n    .switch-text-container input:focus + .slider {\n      box-shadow: 0 0 1px #2196F3;\n    }\n\n    .switch-text-container input:checked + .slider:before {\n      -webkit-transform: translateX(26px);\n      -ms-transform: translateX(26px);\n      transform: translateX(26px);\n    }\n  ',document.head.append(e)},T="loader-div-id"+n.v4(),A=!1,P=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).log.apply(e,[" >>> ",+new Date-+Me()," >>> "].concat(n))},S=_(1e-5),L=_(3e3),x=function(){function e(e){var n=this;if(this._containerId=e,this._scene=new t.Scene,this._canvas=document.createElement("canvas"),this._clock=new t.Clock(!1),this._initialViewingVector=new t.Vector3,this._isSceneReady=!1,this._isRendering=!1,this._isHelpersShown=!1,this._isInit=!1,this._isLoaderVisible=!0,this._fps=60,this._camera=new t.PerspectiveCamera(60,2,S,L),this._sceneEntities=[],this._preInitHook=function(){},this._postInitHook=function(){},this._destroyHook=function(){},this.updateCamera=function(){},this.registerSceneEntities=function(e){e.forEach((function(e){return n._sceneEntities.push(e)}))},this.setHelpersVisibility=function(e){n._isHelpersShown=!!e,n._scene.traverse((function(e){return e.userData.isHelper&&(e.visible=n._isHelpersShown)}))},this.toggleHelpersVisibility=function(){n._isHelpersShown=!n._isHelpersShown,n.setHelpersVisibility(n._isHelpersShown)},this._updateCameraAspect=function(){n._canvas.style.width="100%",n._canvas.style.height="100%";var e=n._canvas.offsetWidth||1,t=n._canvas.offsetHeight||1;n._camera.aspect=e/t,n._camera.updateProjectionMatrix(),n._renderer.setSize(e,t)},this.destroy=function(){window.removeEventListener("resize",n._updateCameraAspect),n._stopRendering(),n._destroyHook()},this._render=function(){n._isRendering&&setTimeout((function(){n._requestAnimationFrameId=requestAnimationFrame(n._render),n._update()}),1e3/n._fps)},this._startRendering=function(){P("Starting animation..."),n._isRendering=!0,n._clock.start(),n._render()},this._stopRendering=function(){P("Stopping animation..."),n._isRendering=!1,n._clock.stop()},this._container=document.getElementById(this._containerId),!this._container)throw new Error("No container found with id: "+this._containerId);this._canvas.style.width="100%",this._canvas.style.height="100%",this._container.append(this._canvas),this._container.style.setProperty("position","relative"),this._container.style.setProperty("background-color","black"),function(e){if(!A){A=!0,E();var t=document.createElement("div"),n=document.createElement("div");e.append(t),t.append(n),t.id=T,t.style.setProperty("position","absolute"),t.style.setProperty("top","0px"),t.style.setProperty("left","0px"),t.style.setProperty("bottom","0px"),t.style.setProperty("right","0px"),t.style.setProperty("display","flex"),t.style.setProperty("align-items","center"),t.style.setProperty("justify-content","center"),t.style.setProperty("pointer-events","none");var r=t.offsetWidth,o=t.offsetHeight,i=r<o?r:o;n.style.setProperty("width",.25*i+"px"),n.style.setProperty("height",.25*i+"px"),n.style.setProperty("border","5px solid #f3f3f3"),n.style.setProperty("border-top","5px solid #3498db"),n.style.setProperty("border-radius","100px"),n.style.setProperty("animation","sbn-solar-system-viewer-loader-spin 2000ms linear infinite")}}(this._container)}var n=e.prototype;return n.init=function(){var e=l(p.mark((function e(){var n,r=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInit){e.next=2;break}return e.abrupt("return");case 2:if(this._isInit=!0,Oe(new Date),this._preInitHook(),window.addEventListener("resize",this._updateCameraAspect),n=window.devicePixelRatio?window.devicePixelRatio:1,this._renderer=new t.WebGLRenderer({canvas:this._canvas,antialias:!0,alpha:!0}),this._renderer.setPixelRatio(n),this._renderer.sortObjects=!1,this._renderer.shadowMap.enabled=!0,this._renderer.shadowMap.type=t.PCFSoftShadowMap,this._renderer.outputEncoding=t.GammaEncoding,this._camera.position.copy(this._initialViewingVector),this._camera.up=new t.Vector3(0,0,1),this._camera.lookAt(0,0,0),this._controls=new g(this._camera,this._renderer.domElement),this._controls.enableDamping=!0,this._controls.dampingFactor=.25,this._controls.target=new t.Vector3,this._sceneEntities.length){e.next=22;break}throw new Error(y("You have no scene entities!"));case 22:return e.next=24,Promise.all(this._sceneEntities.map(function(){var e=l(p.mark((function e(t){var n;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.init();case 2:if((n=e.sent)&&n.children.length){e.next=5;break}throw new Error(y('\n            -----------------------------------------------------------------------------\n            The scene entity "'+t.constructor.name+'" has empty sceneEntityGroup\n            after initialization!!!\n            -----------------------------------------------------------------------------\n            '));case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){return new Promise((function(t){return setTimeout((function(){return t(e)}),100)}))})).then((function(e){return e}));case 24:e.sent.forEach((function(e){return r._scene.add(e)})),this.setHelpersVisibility(!1),this._updateCameraAspect(),this._startRendering(),this._postInitHook(),this.setIsLoaderDivVisible(!1),P("Finished initiating scene.");case 32:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.setIsLoaderDivVisible=function(e,t){void 0===t&&(t=3e3),this._isLoaderVisible=e,function(e,t){void 0===t&&(t=3e3);var n=document.getElementById(T);null==n||n.style.setProperty("transition","opacity "+t+"ms ease-in-out"),null==n||n.style.setProperty("opacity",""+(e?1:0))}(this._isLoaderVisible,t)},n.setFramesPerSecond=function(e){e<=0||e>100||(this._fps=e)},n._update=function(){var e=this;if(this._sceneEntities.forEach((function(t){return t.update(e._camera,e._clock.elapsedTime)})),this.updateCamera(),!this._camera||!this._renderer)throw new Error("Poor Logic");this._requestAnimationFrameId&&this._renderer.render(this._scene,this._camera)},e}(),O=function(e,n){return new Promise((function(r,o){(new t.TextureLoader).load(e,(function(e){e.encoding=t.GammaEncoding,setTimeout((function(){return r(e)}),5)}),(function(e){return console.log(n+" "+e.loaded/e.total*100+"%")}),(function(){console.log("Failed to load: ",e),o(new Error("Failed to load: "+e))}))}))};!function(e){e[e.BEFORE_ANIMATION=0]="BEFORE_ANIMATION",e[e.INTERRUPT_ANIMATION=1]="INTERRUPT_ANIMATION",e[e.__LENGTH__=2]="__LENGTH__"}(b||(b={})),function(e){e[e.TOY_REPRESENTATION=0]="TOY_REPRESENTATION",e[e.REAL_WORLD=1]="REAL_WORLD",e[e.__LENGTH__=2]="__LENGTH__"}(w||(w={})),function(e){e[e.WAIT_TILL_LOADED_THEN_START_ANIMATION=0]="WAIT_TILL_LOADED_THEN_START_ANIMATION",e[e.START_ANIMATION_THEN_LOAD_PLANET_ASYNC=1]="START_ANIMATION_THEN_LOAD_PLANET_ASYNC",e[e.__LENGTH__=2]="__LENGTH__"}(v||(v={}));var M,I,k={__sbnViewer__planetLoadingMode:v.WAIT_TILL_LOADED_THEN_START_ANIMATION,__sbnViewer__cometAsteroidLoadingMode:b.BEFORE_ANIMATION,__sbnViewer__cometAsteroidAbundanceRepresentationMode:w.TOY_REPRESENTATION};M=Object.keys(k),I=u({},localStorage),Object.keys(I).forEach((function(e){M.includes(e)||localStorage.removeItem(e)})),M.forEach((function(e){var t=localStorage.getItem(e);if(t)try{typeof JSON.parse(t)!=typeof k[e]&&localStorage.setItem(e,JSON.stringify(k[e]))}catch(e){return void console.log("Local-storage mishap")}else localStorage.setItem(e,JSON.stringify(k[e]))}));var N=function(){var e=Object.keys(k),t={};return e.forEach((function(e){var n=localStorage.getItem(e);if(console.log("key, val",e,n),n)try{var r=JSON.parse(n);console.log("key, parsedVal",e,r),t[e]=r}catch(e){return}})),console.log("optionsFromLocalStorage",t),u({},k,t)},R=function e(){var n=this;this._isAsyncLoad=function(){return e._isAsyncLoad},this._sceneEntityGroup=new t.Group,this.getSceneEntityGroup=function(){return n._sceneEntityGroup}};R._isAsyncLoad=N().__sbnViewer__planetLoadingMode===v.START_ANIMATION_THEN_LOAD_PLANET_ASYNC;var B=function(e){function n(n){var r;return(r=e.call(this)||this)._toyScale=n,r._toyGroup=[],r._realScale=1,r._isZoomToToyScale=!1,r.isLogScale=!1,r.logTransitionClock=new t.Clock,r}h(n,e);var r=n.prototype;return r.setIsZoomToToyScale=function(e){this._isZoomToToyScale=e},r.setToyScale=function(e){this._toyScale=e},r.getScale=function(){return this._isZoomToToyScale?this._toyScale:this._realScale},r._setToToyScale=function(){var e=this;this._isZoomToToyScale=!0,this._toyGroup.forEach((function(t){var n=e._toyScale;t.scale.set(n,n,n)}))},r.setIsLogScale=function(e){this.isLogScale=e,this.logTransitionClock=new t.Clock(!0),this.logTransitionClock.start(),this.setToyScale(this.isLogScale?1e3:3e3)},r.toggleIsLogScale=function(){this.setIsLogScale(!this.isLogScale)},r.getLogInterpolationParam=function(){var e=this.logTransitionClock.getElapsedTime()/2,t=e<1?e:1;return this.isLogScale?t:1-t},r._updateModelScale=function(){var e=this;this._toyGroup.forEach((function(t){var n=e._isZoomToToyScale?e._toyScale:e._realScale,r=t.scale,o=r.x,i=r.y,a=r.z;if(o!==n){var s=e._toyScale/20;o<n&&t.scale.set(o+s,i+s,a+s),o>n&&t.scale.set(o-s,i-s,a-s),Math.abs(o-n)<s&&t.scale.set(n,n,n)}}))},n}(R),D=G();function G(){return"https://sbn-solar-system-viewer.s3.amazonaws.com"}var H,V=_(1),z=function(e){function n(){var n;return(n=e.call(this,30)||this).NAME="SUN",n.position=new t.Vector3(0,0,0),n.sunRadiusMeters=696342e3,n.model=new t.Group,n.sprite=new t.Sprite(new t.SpriteMaterial({blending:t.AdditiveBlending,transparent:!0,visible:!1})),n.getRadius=function(){return n.sunRadiusMeters},n.getPosition=function(){return n.position},n.sprite.scale.multiplyScalar(20*n.sunRadiusMeters),n.model.add(n.sprite),n.helper=new t.LineSegments(new t.EdgesGeometry(new t.SphereGeometry(n.sunRadiusMeters,32)),new t.LineBasicMaterial({color:new t.Color("cyan")})),n.helper.userData.isHelper=!0,n.helper.rotateX(Math.PI/2),n.model.add(n.helper),n}h(n,e);var r=n.prototype;return r.init=function(){var e=l(p.mark((function e(){var t=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=l(p.mark((function e(n){var r,o;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=D+"/stars/sun3-sprite-512.png",o=function(e){t.sprite.material.map=e,t.sprite.material.needsUpdate=!0,t.sprite.material.visible=!0},!t._isAsyncLoad()){e.next=6;break}O(r,"SUN SPRITE IMAGE").then(o).catch((function(e){return null})),e.next=11;break;case 6:return e.t0=o,e.next=9,O(r).catch((function(e){return null}));case 9:e.t1=e.sent,(0,e.t0)(e.t1);case 11:t._toyGroup.push(t.model),t._sceneEntityGroup.name=t.NAME,t._sceneEntityGroup.add(t.model),P("RESOLVED SUN"),n(t._sceneEntityGroup);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r.update=function(){this._updateModelScale()},n}(B),j=function(e){function n(n){var r;return(r=e.call(this)||this).NAME="STARFIELD",r.texture=null,r.invertColor=function(){r.texture&&(r.texture=function(e,n){void 0===n&&(n=!1);var r=e.image,o=document.createElement("canvas"),i=r.width,a=r.height;o.width=i,o.height=a;var s=o.getContext("2d");s.drawImage(r,0,0);for(var c=s.getImageData(0,0,i,a),l=0,u=0;l<a;l++)for(var h=0;h<i;h++,u+=4)c.data[u+0]=255-c.data[u+0],c.data[u+1]=255-c.data[u+1],c.data[u+2]=255-c.data[u+2],n&&(c.data[u+3]=255-c.data[u+3]);return s.putImageData(c,0,0),new t.CanvasTexture(o)}(r.texture),r.material.map=r.texture,r.material.needsUpdate=!0)},r.material=new t.MeshPhongMaterial({side:t.DoubleSide,transparent:!0,color:"black",opacity:1,shininess:0}),r.mesh=new t.Mesh(new t.SphereGeometry(n,32,32),r.material),r.mesh.rotation.y=Math.PI/2,r._sceneEntityGroup.name="STARFIELD",r}h(n,e);var r=n.prototype;return r.init=function(){var e=l(p.mark((function e(){var n=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=l(p.mark((function e(r){var o;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=D+"/stars/galaxy-starfield-4096.jpg",!n._isAsyncLoad()){e.next=5;break}O(o,"star-field").then((function(e){n.texture=e,e.encoding=t.GammaEncoding,n.material.map=e,n.material.needsUpdate=!0})),e.next=11;break;case 5:return e.next=7,O(o,"star-field");case 7:n.texture=e.sent,n.material.map=n.texture,n.material.color=new t.Color,n.material.needsUpdate=!0;case 11:n._sceneEntityGroup.add(n.mesh),console.log("Starfield resolved",+new Date-+Me()),r(n._sceneEntityGroup);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r.update=function(){},n}(R),C=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).NAME="Misc Helpers",t.update=function(){},t}return h(n,e),n.prototype.init=function(){var e=l(p.mark((function e(){var n=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var r=new t.AxesHelper(_(100));r.userData.isHelper=!0,n._sceneEntityGroup.add(r),e(n._sceneEntityGroup)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n}(R),U=function(e){function n(t){var n;return void 0===t&&(t=.3),(n=e.call(this)||this)._defaultIntensity=t,n.NAME="Simple Light",n.setPower=function(e){n._light.intensity=e||n._defaultIntensity},n.update=function(){},n}h(n,e);var r=n.prototype;return r.init=function(){var e=l(p.mark((function e(){var n=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){n._light=new t.AmbientLight(3355443,n._defaultIntensity),n._light.userData.isAmbientLight=!0,n._sceneEntityGroup.add(n._light),e(n._sceneEntityGroup)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r.setIsOn=function(e){this._light.visible=e},n}(R);!function(e){e.PLANET="PLANET",e.DWARF_PLANET="DWARF_PLANET",e.SUN="SUN",e.ASTEROID="ASTEROID"}(H||(H={}));var X=new Set(["a","e","i","q","epoch","period","tp","ma","n","L","om","w","wBar","GM"]),Y=new Set(["i","ma","n","L","om","w","wBar"]);function F(e){return void 0!==e}var Z=function(){function e(e,t,n){var r=this;void 0===t&&(t="rad"),void 0===n&&(n=!1),this._locked=!1,this._attrs=u({},e),this._locked=!1,e&&Object.keys(e).forEach((function(n){var o=Y.has(n)?t:void 0,i=e[n];i&&r.set(n,i,o)})),void 0===this._attrs.GM&&(this._attrs.GM=K.SUN),this.fill(),this.get("e")>.9&&void 0===this.get("tp")&&console.warn('You must specify "tp" (time of perihelion) for highly eccentric orbits'),this._locked=n}var t=e.prototype;return t.set=function(e,t,n){if(void 0===n&&(n="rad"),this._locked)throw new Error("Attempted to modify locked (immutable) Ephem object");return X.has(e)?(this._attrs[e]="deg"===n?t*Math.PI/180:t,!0):(console.warn("Invalid ephem attr: "+e),!1)},t.get=function(e,t){void 0===t&&(t="rad");var n=this._attrs[e];return"deg"===t?180*n/Math.PI:n},t.fill=function(){var e=this.get("e");if(!F(e))throw new Error('Must define eccentricity "e" in an orbit');var t=this.get("a"),n=this.get("q");if(F(t)){if(!F(n)){if(e>=1)throw new Error('Must provide perihelion distance "q" if eccentricity "e" is greater than 1');this.set("q",n=t*(1-e))}}else{if(!F(n))throw new Error('Must define semimajor axis "a" or perihelion distance "q" in an orbit');this.set("a",t=n/(1-e))}var r=this.get("w"),o=this.get("wBar"),i=this.get("om");F(r)&&F(i)&&!F(o)?this.set("wBar",o=r+i):F(o)&&F(i)&&!F(r)?this.set("w",r=o-i):F(r)&&F(o)&&!F(i)&&this.set("om",i=o-r);var a=149597870700*t,s=this.get("n"),c=this.get("GM"),l=this.get("period");if(!F(l)&&F(t)&&(l=2*Math.PI*Math.sqrt(a*a*a/c)/86400,this.set("period",l)),e<1)if(F(l)&&!F(s)){var u=2*Math.PI/l;this.set("n",u)}else F(s)&&!F(l)&&this.set("period",2*Math.PI/s);var h=this.get("ma"),p=this.get("L");!F(p)&&F(i)&&F(r)&&F(h)&&this.set("L",p=i+r+h),F(h)||this.set("ma",p-o)},t.lock=function(){this._locked=!0},t.copy=function(){return new e({GM:this.get("GM"),epoch:this.get("epoch"),a:this.get("a"),e:this.get("e"),i:this.get("i"),om:this.get("om"),ma:this.get("ma"),w:this.get("w")},"rad")},e}(),K={SUN:0x731c14d13d71fc000,MERCURY:22031780000000.02,VENUS:324858592000000.06,EARTH_MOON:403503235502259.8,MARS:42828375214000.02,JUPITER:0x1c22c96966960d0,SATURN:379405852e8,URANUS:5794548600000008,NEPTUNE:6836527100580024,PLUTO_CHARON:977000000000.0007},W={MERCURY:new Z({epoch:2458426.5,a:.3870968969437096,e:.2056515875393916,i:7.003891682749818,om:48.30774804443502,w:29.17940253442659,ma:256.190975209273},"deg",!0),VENUS:new Z({epoch:2458426.5,a:.7233458663591554,e:.006762510759617694,i:3.394567787211735,om:76.62534150657346,w:54.74567447560867,ma:275.6687596099721},"deg",!0),EARTH:new Z({epoch:2451545,a:1.00000261,e:.01671123,i:-1531e-8,om:0,wBar:102.93768193,L:100.46457166},"deg",!0),MOON:new Z({GM:398600,epoch:2458621.5,a:.002582517063772124,e:.04582543645168888,i:5.102060246928811,om:108.5916732144811,w:61.80561793729225,ma:50.53270083636792},"deg",!0),MARS:new Z({epoch:2458426.5,a:1.52371401537107,e:.09336741335309606,i:1.848141099825311,om:49.50420572080223,w:286.6965847685386,ma:25.38237617924876},"deg",!0),CERES:new Z({epoch:2459200.5,a:2.7660891,e:.0781685,i:10.5879,om:80.27236,w:73.72487,ma:205.54542},"deg",!0),JUPITER:new Z({epoch:2458426.5,a:5.20180355911023,e:.0489912558249006,i:1.303560894624275,om:100.5203828847816,w:273.736301845404,ma:231.939544389401},"deg",!0),SATURN:new Z({epoch:2458426.5,a:9.577177295536776,e:.05101889921719987,i:2.482782449972317,om:113.6154964073247,w:339.4422648650336,ma:187.0970898012944},"deg",!0),URANUS:new Z({epoch:2458426.5,a:19.14496966635462,e:.04832662948112808,i:.7697511134483724,om:74.14239045667875,w:99.42704504702185,ma:220.2603033874267},"deg",!0),NEPTUNE:new Z({epoch:2458426.5,a:30.0962226342805,e:.00736257118719377,i:1.774569249829094,om:131.8695882492132,w:258.6226409499831,ma:315.2804988924479},"deg",!0),PLUTO:new Z({epoch:2454000.5,a:39.4450697257,e:.250248713478,i:17.0890009196,om:110.376957955,w:112.597141677,ma:25.2471897122},"deg",!0),HAUMEA:new Z({epoch:2459200.5,a:43.116,e:.19642,i:28.2137,om:122.167,w:239.041,ma:218.205},"deg",!0),MAKEMAKE:new Z({epoch:2458900.5,a:45.43,e:.16126,i:28.9835,om:79.62,w:294.834,ma:165.514},"deg",!0),ERIS:new Z({epoch:2459000.5,a:67.864,e:.43607,i:44.04,om:35.951,w:151.639,ma:205.989},"deg",!0)};function q(e,t,n){return[1*e,1*t,1*n]}function J(e,t,n,r,o,i){if(void 0===e)throw"data object is undefined";if(!Array.isArray(e))throw"data object must be an array";if(n>=r)throw"first row must be greater than last row";if(n<0)throw"first row must be greater than zero";if(r>e.length-1)throw"last row must be ";if(!Array.isArray(e[n]))throw"data in rows must be array data";var a=e[0].length-1;if(o<0||o>a)throw"xIndex has to be between 0 and "+a+": "+o;if(i<0||i>a)throw"yIndex has to be between 0 and "+a+": "+i;for(var s=0,c=n;c<=r;c++){for(var l=1,u=n;u<=r;u++)u!==c&&(l*=(t-e[u][o])/(e[c][o]-e[u][o]));s+=l*e[c][i]}return s}var Q,$=function(e,t){return e-t},ee=function(e,t){return e[0]-t},te={distance:"au",time:"day"},ne=new Set(["km","au"]),re=new Set(["cartesianposvel"]),oe=new Set(["lagrange"]),ie=new Set(["day","sec"]),ae=function(){function e(e){if(this._units=u({},te),this._ephemType="cartesianposvel",this._interpolationType="lagrange",this._interpolationOrder=5,!e)throw"EphemerisTable must be initialized with an ephemeris data structure";if(!e.data||!Array.isArray(e.data)||0===e.data.length||!Array.isArray(e.data[0]))throw"EphemerisTable must be initialized with a structure containing an array of arrays of ephemeris data";if(this._data=[].concat(e.data),e.distanceUnits){if(!ne.has(e.distanceUnits))throw"Unknown distance units: "+e.distanceUnits;this._units.distance=e.distanceUnits}if(e.timeUnits){if(!ie.has(e.timeUnits))throw"Unknown time units: "+e.timeUnits;this._units.time=e.timeUnits}if(e.ephemerisType){if(!re.has(e.ephemerisType))throw"Unknown ephemeris type: "+e.ephemerisType;this._ephemType=e.ephemerisType}if(e.interpolationType){if(!oe.has(e.interpolationType))throw"Unknown interpolation type: "+e.interpolationType;this._interpolationType=e.interpolationType}if(void 0!==e.interpolationOrder){if(e.interpolationOrder<1||e.interpolationOrder>20)throw"Interpolation order must be >0 and <20: "+e.interpolationOrder;this._interpolationOrder=e.interpolationOrder}if(this._units.distance!==te.distance||this._units.time!==te.time){var t=this.calcDistanceMultiplier(this._units.distance),n=this.calcTimeMultiplier(this._units.time);this._data.forEach((function(e){e[1]*=t,e[2]*=t,e[3]*=t,e[4]*=t*n,e[5]*=t*n,e[6]*=t*n}))}}var t=e.prototype;return t.getPositionAtTime=function(e){if(e<=this._data[0][0])return[this._data[0][1],this._data[0][2],this._data[0][3]];var t=this._data[this._data.length-1];if(e>=t[0])return[t[1],t[2],t[3]];var n=this.calcBoundingIndices(e),r=n.startIndex,o=n.stopIndex;return[J(this._data,e,r,o,0,1),J(this._data,e,r,o,0,2),J(this._data,e,r,o,0,3)]},t.getPositions=function(e,t,n){if(e>t)throw"Requested start needs to be after requested stop";if(n<=0)throw"Step days needs to be greater than zero";for(var r=[],o=e;o<=t;o+=n)r.push(this.getPositionAtTime(o));return r},t.calcDistanceMultiplier=function(e){switch(e){case"au":return 1;case"km":return 1/149597870.7;default:throw new Error("Unknown distance unit type: "+e)}},t.calcTimeMultiplier=function(e){switch(e){case"day":return 1;case"sec":return 1/86400;default:throw new Error("Unknown time unit type: "+e)}},t.calcBoundingIndices=function(e){var t=Math.floor(this._interpolationOrder/2),n=function(e,t,n){if(void 0===n&&(n=$),void 0===e)throw"data object is undefined";if(!Array.isArray(e))throw"data object must be an array";if(void 0===t)throw"value object must be defined";if(void 0===n)throw"comparer must be defined";for(var r=0,o=e.length;r<=o;){var i=Math.floor((r+o)/2);if(i===e.length)return i;var a=n(e[i],t);if(a<0)r=i+1;else{if(!(a>0))return i;o=i-1}}return~r}(this._data,e,ee);n<0&&(n=~n-1);var r=n-t;r<0&&(r=0);var o=r+Number(this._interpolationOrder);return o>=this._data.length&&(o=this._data.length-1,this._data.length>t&&(r=o-t)),{startIndex:r,stopIndex:o}},e}(),se=Math.sin,ce=Math.cos,le=Math.sqrt;function ue(e){return Math.exp(Math.log(e)/3)}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.PARABOLIC=1]="PARABOLIC",e[e.HYPERBOLIC=2]="HYPERBOLIC",e[e.ELLIPTICAL=3]="ELLIPTICAL",e[e.TABLE=4]="TABLE"}(Q||(Q={}));var he=function(){function e(e,t){this._ephem=e,this._orbitStart=0,this._orbitStop=0,this._options=u({color:"white",eclipticLineColor:"cyan"},t,{orbitPathSettings:u({leadDurationYears:10,trailDurationYears:10,numberSamplePoints:360},t.orbitPathSettings)}),this._orbitType=function(e){if(e instanceof ae)return Q.TABLE;var t=e.get("e");return t>.9&&t<1.2?Q.PARABOLIC:t>1.2?Q.HYPERBOLIC:Q.ELLIPTICAL}(this._ephem)}var n=e.prototype;return n.getPositionAtTime=function(e,t){switch(void 0===t&&(t=!1),this._orbitType){case Q.PARABOLIC:return this.getPositionAtTimeNearParabolic(e,t);case Q.HYPERBOLIC:return this.getPositionAtTimeHyperbolic(e,t);case Q.ELLIPTICAL:return this.getPositionAtTimeElliptical(e,t);case Q.TABLE:return this.getPositionAtTimeTable(e,t)}throw new Error("No handler for this type of orbit")},n.getPositionAtTimeParabolic=function(e,t){var n=this._ephem;if(n instanceof ae)throw new Error("Poor logic allowing table type here");var r=n.get("q"),o=(e-n.get("tp"))*(.01720209895/le(2))/le(r*r*r)*1.5,i=le(1+o*o),a=ue(i+o)-ue(i-o),s=2*Math.atan(a);return this.vectorToHeliocentric(s,r*(1+a*a))},n.getPositionAtTimeNearParabolic=function(e,t){var n=this._ephem;if(n instanceof ae)throw new Error("Poor logic allowing table type here");var r=n.get("e"),o=n.get("q"),i=.75*(e-n.get("tp"))*.01720209895*le((1+r)/(o*o*o)),a=le(1+i*i),s=ue(a+i)-ue(a-i),c=(1-r)/(1+r),l=s*s/(1+s*s),u=c*l*l,h=s*(1+c*l*(2/3+.4*s*s+(1.4+33/35*s*s+37/175*Math.pow(s,4))*u+s*s*(432/175+956/1125*s*s+84/1575*Math.pow(s,4))*u*u)),p=2*Math.atan(h);return this.vectorToHeliocentric(p,o*(1+h*h)/(1+h*h*c))},n.getPositionAtTimeHyperbolic=function(e,t){var n=this._ephem;if(n instanceof ae)throw new Error("Poor logic allowing table type here");for(var r=n.get("e"),o=n.get("a"),i=n.get("ma")+n.get("n","rad")*(e-n.get("epoch")),a=i,s=0;s<100;s++){var c=(i+r*(a*Math.cosh(a)-Math.sinh(a)))/(r*Math.cosh(a)-1),l=Math.abs(c-a);if(a=c,l<1e-7)break}var u=a,h=2*Math.atan(le((r+1)/(r-1)))*Math.tanh(u/2),p=o*(1-r*r)/(1+r*ce(h));return this.vectorToHeliocentric(h,p)},n.getPositionAtTimeElliptical=function(e,t){void 0===t&&(t=!1);var n=this._ephem;if(n instanceof ae)throw new Error("Poor logic allowing table type here");var r=n.get("e"),o=n.get("ma","rad"),i=n.get("n","rad"),a=e-n.get("epoch"),s=o+i*a;t&&(console.info("period=",n.get("period")),console.info("n=",i),console.info("ma=",o),console.info("d=",a),console.info("M=",s));for(var c=s,l=0;l<100;l++){var u=s+r*se(c),h=Math.abs(u-c);if(c=u,h<1e-7)break}var p=c,d=2*Math.atan(le((1+r)/(1-r))*Math.tan(p/2)),f=n.get("a")*(1-r*r)/(1+r*ce(d));return this.vectorToHeliocentric(d,f)},n.getPositionAtTimeTable=function(e,t){if(this._ephem instanceof Z)throw new Error("Poor logic allowing non-table type here");var n=this._ephem.getPositionAtTime(e);return q(n[0],n[1],n[2])},n.vectorToHeliocentric=function(e,t){var n=this._ephem;if(n instanceof ae)throw new Error("Poor logic allowing table type here");var r=n.get("i","rad"),o=n.get("om","rad"),i=n.get("wBar","rad");return q(t*(ce(o)*ce(e+i-o)-se(o)*se(e+i-o)*ce(r)),t*(se(o)*ce(e+i-o)+ce(o)*se(e+i-o)*ce(r)),t*(se(e+i-o)*se(r)))},n.needsUpdateForTime=function(e){return this._orbitType===Q.TABLE&&(e<this._orbitStart||e>this._orbitStop)},n.getOrbitShape=function(e,t){if(void 0===t&&(t=!1),t&&(this._orbitShape&&(this._orbitShape.geometry.dispose(),this._orbitShape.material.dispose()),this._orbitShape=void 0,this._orbitPoints&&this._orbitPoints.dispose(),this._orbitPoints=void 0,this._eclipticDropLines&&(this._eclipticDropLines.geometry.dispose(),this._eclipticDropLines.material.dispose()),this._eclipticDropLines=void 0),this._orbitShape)return this._orbitShape;if(this._orbitType===Q.ELLIPTICAL)return this.getEllipse();var n=(this._orbitType===Q.TABLE?e:this._ephem.get("tp"))||r.toJulianDay(new Date),o=n-365.25*this._options.orbitPathSettings.trailDurationYears,i=n+365.25*this._options.orbitPathSettings.leadDurationYears,a=(i-o)/this._options.orbitPathSettings.numberSamplePoints;switch(this._orbitStart=o,this._orbitStop=i,this._orbitType){case Q.HYPERBOLIC:return this.getLine(this.getPositionAtTimeHyperbolic.bind(this),o,i,a);case Q.PARABOLIC:return this.getLine(this.getPositionAtTimeNearParabolic.bind(this),o,i,a);case Q.TABLE:return this.getTableOrbit(o,i,a)}throw new Error("Unknown orbit shape")},n.getLine=function(e,n,r,o){for(var i=[],a=n;a<=r;a+=o){var s=e(a);s[0]=_(s[0]),s[1]=_(s[1]),s[2]=_(s[2]),i.push(new t.Vector3(s[0],s[1],s[2]))}var c=new t.BufferGeometry;return c.setFromPoints(i),this.generateAndCacheOrbitShape(c)},n.getTableOrbit=function(e,n,r){if(this._ephem instanceof Z)throw new Error("Poor logic allowing non-table type here");var o=this._ephem.getPositions(e,n,r).map((function(e){return[1*(t=e)[0],1*t[1],1*t[2]];var t})).map((function(e){return new t.Vector3(e[0],e[1],e[2])})),i=new t.BufferGeometry;return i.setFromPoints(o),this.generateAndCacheOrbitShape(i)},n.getEllipse=function(){var e=this.getEllipseGeometry();return this.generateAndCacheOrbitShape(e)},n.getEllipseGeometry=function(){var e=this._ephem;if(e instanceof ae)throw new Error("Poor logic allowing table type here");e.get("period");for(var n=e.get("a"),r=e.get("e"),o=2*Math.PI,i=o/90,a=[],s=0;s<o;s+=i){var c=2*Math.atan(le((1+r)/(1-r))*Math.tan(s/2)),l=n*(1-r*r)/(1+r*ce(c)),u=this.vectorToHeliocentric(c,l);(isNaN(u[0])||isNaN(u[1])||isNaN(u[2]))&&(console.error("NaN position value - you may have bad or incomplete data in the following ephemeris:"),console.error(e)),a.push(new t.Vector3(_(u[0]),_(u[1]),_(u[2])))}a.push(a[0]);var h=new t.BufferGeometry;return h.setFromPoints(a),h},n.generateAndCacheOrbitShape=function(e){return this._orbitPoints=e,this._orbitShape=new t.Line(e,new t.LineBasicMaterial({color:new t.Color(this._options.color||4473924)})),this._orbitShape},n.getLinesToEcliptic=function(){if(this._eclipticDropLines)return this._eclipticDropLines;this._orbitPoints||this.getOrbitShape();var e=this._orbitPoints,n=new t.BufferGeometry;if(!e)throw new Error("Poor logic letting point be undefined here");return this._eclipticDropLines=new t.LineSegments(n,new t.LineBasicMaterial({color:this._options.eclipticLineColor||3355443,blending:t.AdditiveBlending})),this._eclipticDropLines},n.getHexColor=function(){var e;return null==(e=this._orbitShape)?void 0:e.material.color.getHex()},n.setHexColor=function(e){var n,r;null!=(n=this._orbitShape)&&null!=(r=n.material)&&r.color&&(this._orbitShape.material.color=new t.Color(e))},n.getVisibility=function(){var e;return null==(e=this._orbitShape)?void 0:e.visible},n.setVisibility=function(e){this._orbitShape&&(this._orbitShape.visible=e)},e}();class pe{static computeTangents(e){e.computeTangents(),console.warn("THREE.BufferGeometryUtils: .computeTangents() has been removed. Use BufferGeometry.computeTangents() instead.")}static mergeBufferGeometries(e,n=!1){const r=null!==e[0].index,o=new Set(Object.keys(e[0].attributes)),i=new Set(Object.keys(e[0].morphAttributes)),a={},s={},c=e[0].morphTargetsRelative,l=new t.BufferGeometry;let u=0;for(let t=0;t<e.length;++t){const h=e[t];let p=0;if(r!==(null!==h.index))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+t+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const e in h.attributes){if(!o.has(e))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+t+'. All geometries must have compatible attributes; make sure "'+e+'" attribute exists among all geometries, or in none of them.'),null;void 0===a[e]&&(a[e]=[]),a[e].push(h.attributes[e]),p++}if(p!==o.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+t+". Make sure all geometries have the same number of attributes."),null;if(c!==h.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+t+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const e in h.morphAttributes){if(!i.has(e))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+t+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===s[e]&&(s[e]=[]),s[e].push(h.morphAttributes[e])}if(l.userData.mergedUserData=l.userData.mergedUserData||[],l.userData.mergedUserData.push(h.userData),n){let e;if(r)e=h.index.count;else{if(void 0===h.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+t+". The geometry must have either an index or a position attribute"),null;e=h.attributes.position.count}l.addGroup(u,e,t),u+=e}}if(r){let t=0;const n=[];for(let r=0;r<e.length;++r){const o=e[r].index;for(let e=0;e<o.count;++e)n.push(o.getX(e)+t);t+=e[r].attributes.position.count}l.setIndex(n)}for(const e in a){const t=this.mergeBufferAttributes(a[e]);if(!t)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+e+" attribute."),null;l.setAttribute(e,t)}for(const e in s){const t=s[e][0].length;if(0===t)break;l.morphAttributes=l.morphAttributes||{},l.morphAttributes[e]=[];for(let n=0;n<t;++n){const t=[];for(let r=0;r<s[e].length;++r)t.push(s[e][r][n]);const r=this.mergeBufferAttributes(t);if(!r)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+e+" morphAttribute."),null;l.morphAttributes[e].push(r)}}return l}static mergeBufferAttributes(e){let n,r,o,i=0;for(let t=0;t<e.length;++t){const a=e[t];if(a.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(void 0===n&&(n=a.array.constructor),n!==a.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(void 0===r&&(r=a.itemSize),r!==a.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(void 0===o&&(o=a.normalized),o!==a.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;i+=a.array.length}const a=new n(i);let s=0;for(let t=0;t<e.length;++t)a.set(e[t].array,s),s+=e[t].array.length;return new t.BufferAttribute(a,r,o)}static interleaveAttributes(e){let n,r=0,o=0;for(let t=0,i=e.length;t<i;++t){const i=e[t];if(void 0===n&&(n=i.array.constructor),n!==i.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;r+=i.array.length,o+=i.itemSize}const i=new t.InterleavedBuffer(new n(r),o);let a=0;const s=[],c=["getX","getY","getZ","getW"],l=["setX","setY","setZ","setW"];for(let n=0,r=e.length;n<r;n++){const r=e[n],o=r.itemSize,u=r.count,h=new t.InterleavedBufferAttribute(i,o,a,r.normalized);s.push(h),a+=o;for(let e=0;e<u;e++)for(let t=0;t<o;t++)h[l[t]](e,r[c[t]](e))}return s}static estimateBytesUsed(e){let t=0;for(const n in e.attributes){const r=e.getAttribute(n);t+=r.count*r.itemSize*r.array.BYTES_PER_ELEMENT}const n=e.getIndex();return t+=n?n.count*n.itemSize*n.array.BYTES_PER_ELEMENT:0,t}static mergeVertices(e,n=1e-4){n=Math.max(n,Number.EPSILON);const r={},o=e.getIndex(),i=e.getAttribute("position"),a=o?o.count:i.count;let s=0;const c=Object.keys(e.attributes),l={},u={},h=[],p=["getX","getY","getZ","getW"];for(let t=0,n=c.length;t<n;t++){const n=c[t];l[n]=[];const r=e.morphAttributes[n];r&&(u[n]=new Array(r.length).fill().map(()=>[]))}const d=Math.log10(1/n),f=Math.pow(10,d);for(let t=0;t<a;t++){const n=o?o.getX(t):t;let i="";for(let t=0,r=c.length;t<r;t++){const r=e.getAttribute(c[t]),o=r.itemSize;for(let e=0;e<o;e++)i+=~~(r[p[e]](n)*f)+","}if(i in r)h.push(r[i]);else{for(let t=0,r=c.length;t<r;t++){const r=c[t],o=e.getAttribute(r),i=e.morphAttributes[r],a=o.itemSize,s=l[r],h=u[r];for(let e=0;e<a;e++){const t=p[e];if(s.push(o[t](n)),i)for(let e=0,r=i.length;e<r;e++)h[e].push(i[e][t](n))}}r[i]=s,h.push(s),s++}}const m=e.clone();for(let n=0,r=c.length;n<r;n++){const r=c[n],o=e.getAttribute(r),i=new o.array.constructor(l[r]),a=new t.BufferAttribute(i,o.itemSize,o.normalized);if(m.setAttribute(r,a),r in u)for(let n=0;n<u[r].length;n++){const o=e.morphAttributes[r][n],i=new o.array.constructor(u[r][n]),a=new t.BufferAttribute(i,o.itemSize,o.normalized);m.morphAttributes[r][n]=a}}return m.setIndex(h),m}static toTrianglesDrawMode(e,n){if(n===t.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(n===t.TriangleFanDrawMode||n===t.TriangleStripDrawMode){let r=e.getIndex();if(null===r){const t=[],n=e.getAttribute("position");if(void 0===n)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(let e=0;e<n.count;e++)t.push(e);e.setIndex(t),r=e.getIndex()}const o=r.count-2,i=[];if(n===t.TriangleFanDrawMode)for(let e=1;e<=o;e++)i.push(r.getX(0)),i.push(r.getX(e)),i.push(r.getX(e+1));else for(let e=0;e<o;e++)e%2==0?(i.push(r.getX(e)),i.push(r.getX(e+1)),i.push(r.getX(e+2))):(i.push(r.getX(e+2)),i.push(r.getX(e+1)),i.push(r.getX(e)));i.length/3!==o&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=e.clone();return a.setIndex(i),a.clearGroups(),a}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",n),e}static computeMorphedAttributes(e){if(!0!==e.geometry.isBufferGeometry)return console.error("THREE.BufferGeometryUtils: Geometry is not of type BufferGeometry."),null;const n=new t.Vector3,r=new t.Vector3,o=new t.Vector3,i=new t.Vector3,a=new t.Vector3,s=new t.Vector3,c=new t.Vector3,l=new t.Vector3,u=new t.Vector3;function h(e,t,h,p,d,f,m,g,y){n.fromBufferAttribute(h,f),r.fromBufferAttribute(h,m),o.fromBufferAttribute(h,g);const _=e.morphTargetInfluences;if(t.morphTargets&&p&&_){c.set(0,0,0),l.set(0,0,0),u.set(0,0,0);for(let e=0,t=p.length;e<t;e++){const t=_[e],h=p[e];0!==t&&(i.fromBufferAttribute(h,f),a.fromBufferAttribute(h,m),s.fromBufferAttribute(h,g),d?(c.addScaledVector(i,t),l.addScaledVector(a,t),u.addScaledVector(s,t)):(c.addScaledVector(i.sub(n),t),l.addScaledVector(a.sub(r),t),u.addScaledVector(s.sub(o),t)))}n.add(c),r.add(l),o.add(u)}e.isSkinnedMesh&&(e.boneTransform(f,n),e.boneTransform(m,r),e.boneTransform(g,o)),y[3*f+0]=n.x,y[3*f+1]=n.y,y[3*f+2]=n.z,y[3*m+0]=r.x,y[3*m+1]=r.y,y[3*m+2]=r.z,y[3*g+0]=o.x,y[3*g+1]=o.y,y[3*g+2]=o.z}const p=e.geometry,d=e.material;let f,m,g;const y=p.index,_=p.attributes.position,b=p.morphAttributes.position,w=p.morphTargetsRelative,v=p.attributes.normal,E=p.morphAttributes.position,T=p.groups,A=p.drawRange;let P,S,L,x,O,M,I,k;const N=new Float32Array(_.count*_.itemSize),R=new Float32Array(v.count*v.itemSize);if(null!==y)if(Array.isArray(d))for(P=0,L=T.length;P<L;P++)for(O=T[P],M=d[O.materialIndex],I=Math.max(O.start,A.start),k=Math.min(O.start+O.count,A.start+A.count),S=I,x=k;S<x;S+=3)f=y.getX(S),m=y.getX(S+1),g=y.getX(S+2),h(e,M,_,b,w,f,m,g,N),h(e,M,v,E,w,f,m,g,R);else for(I=Math.max(0,A.start),k=Math.min(y.count,A.start+A.count),P=I,L=k;P<L;P+=3)f=y.getX(P),m=y.getX(P+1),g=y.getX(P+2),h(e,d,_,b,w,f,m,g,N),h(e,d,v,E,w,f,m,g,R);else if(void 0!==_)if(Array.isArray(d))for(P=0,L=T.length;P<L;P++)for(O=T[P],M=d[O.materialIndex],I=Math.max(O.start,A.start),k=Math.min(O.start+O.count,A.start+A.count),S=I,x=k;S<x;S+=3)f=S,m=S+1,g=S+2,h(e,M,_,b,w,f,m,g,N),h(e,M,v,E,w,f,m,g,R);else for(I=Math.max(0,A.start),k=Math.min(_.count,A.start+A.count),P=I,L=k;P<L;P+=3)f=P,m=P+1,g=P+2,h(e,d,_,b,w,f,m,g,N),h(e,d,v,E,w,f,m,g,R);return{positionAttribute:_,normalAttribute:v,morphedPositionAttribute:new t.Float32BufferAttribute(N,3),morphedNormalAttribute:new t.Float32BufferAttribute(R,3)}}}function de(e){var t=e.length()/V,n=(Math.log10(t)+1)/t,r=e.clone();return r.multiplyScalar(n),r}var fe,me=_(1),ge=function(){function e(e,n,r,o,i){var a=this;switch(void 0===n&&(n=H.PLANET),void 0===o&&(o="white"),void 0===i&&(i=.7),this.name=e,this.orbitalType=n,this.skephem=r,this.color=o,this.opacity=i,this.loadPlanet=function(){a.SKEph=W[a.name],a.SKOrbit=new he(a.SKEph,{color:a.orbitalType===H.PLANET?"white":"pink",eclipticLineColor:void 0,orbitPathSettings:void 0}),a.SKprojectedOrbitLine=a.getMorphedOrbitLine(),a.SKprojectedOrbitLine.material.transparent=!0,a.SKprojectedOrbitLine.material.opacity=a.opacity||1,a.SKprojectedOrbitLine.material.needsUpdate=!0},this.loadAsteroid=function(){a.SKEph=a.skephem||new Z({epoch:2458600.5,a:5.38533,e:.19893,i:22.11137,om:294.42992,w:314.2889,ma:229.14238},"deg"),a.SKOrbit=new he(a.SKEph,{color:"cyan",eclipticLineColor:void 0,orbitPathSettings:void 0}),a.SKprojectedOrbitLine=a.getMorphedOrbitLine(),a.SKprojectedOrbitLine.material.color=new t.Color("cyan"),a.SKprojectedOrbitLine.material.transparent=!0,a.SKprojectedOrbitLine.material.opacity=a.opacity||1,a.SKprojectedOrbitLine.material.needsUpdate=!0},this.getProjectedOrbitLine=function(){return a.SKprojectedOrbitLine},this.orbitalType){case H.ASTEROID:this.loadAsteroid();break;case H.PLANET:case H.DWARF_PLANET:default:this.loadPlanet()}}var n=e.prototype;return n.getMorphedOrbitLine=function(){if(this.orbitLine)return this.orbitLine;if(!this.SKOrbit)throw new Error("Poor logic mi amigo");var e=this.SKOrbit.getEllipseGeometry();e.morphAttributes.position=[];for(var n=e.attributes.position,r=[],o=0;o<n.count;o++){var i=n.getX(o),a=n.getY(o),s=n.getZ(o),c=de(new t.Vector3(i,a,s));r.push(c.x,c.y,c.z)}return e.morphAttributes.position[0]=new t.Float32BufferAttribute(r,3),this.orbitLine=new t.Line(e,new t.LineBasicMaterial({color:new t.Color(this.color||4473924),morphTargets:!0})),this.orbitLine},n.getXyzMeters=function(e){var t;void 0===e&&(e=0);var n=null==(t=this.SKOrbit)?void 0:t.getPositionAtTime(e);return n?{x:_(n[0]),y:_(n[1]),z:_(n[2])}:{x:0,y:0,z:0}},n.getPosition=function(e){void 0===e&&(e=0);var n=this.getXyzMeters(e);return new t.Vector3(n.x,n.y,n.z)},n.getTail=function(e,n,r){void 0===n&&(n=.3*me),void 0===r&&(r=0);for(var o=this.getPosition(r),i=de(o),a=r,s=r,c=0,l=0,u=!0,h=!0;u||h;)h=l<n,(u=c<n)&&(c=o.distanceTo(this.getPosition(a+=.5))),h&&(l=i.distanceTo(de(this.getPosition(s+=.5))));for(var p=(a-r)/5,d=(s-r)/5,f=e/5,m=[],g=o.clone(),y=i.clone(),_=o.clone(),b=i.clone(),w=e,v=1;v<=5;v++){var E=r+v*d;_=this.getPosition(r+v*p),b=de(this.getPosition(E));var T=w-f,A=g.distanceTo(_),P=y.distanceTo(b),S=new t.CylinderGeometry(w,T,A,3,1,!1),L=new t.CylinderGeometry(w,T,P,3,1,!1),x=g.x,O=g.y,M=g.z,I=new t.Matrix4;I.makeTranslation(x,O,M),I.lookAt(g,_,new t.Vector3(0,0,1)),S.translate(0,-A/2,0),S.rotateX(Math.PI/2),S.applyMatrix4(I);var k=y.x,N=y.y,R=y.z,B=new t.Matrix4;B.makeTranslation(k,N,R),B.lookAt(y,b,new t.Vector3(0,0,1)),L.translate(0,-P/2,0),L.rotateX(Math.PI/2),L.applyMatrix4(B),m.push({realSegmentGeometry:S,loggedSegmentGeometry:L}),g=_,y=b,w=T}return{realGeometry:pe.mergeBufferGeometries(m.map((function(e){return e.realSegmentGeometry})),!0),loggedGeometry:pe.mergeBufferGeometries(m.map((function(e){return e.loggedSegmentGeometry})),!0)}},e}(),ye=function(e,n,r){void 0===n&&(n=.25),void 0===r&&(r=new t.Vector3);for(var o=new t.DodecahedronGeometry(e,1),i=o.getAttribute("position"),a=new t.Vector3,s={},c=0;c<i.count;c++){a.fromBufferAttribute(i,c);var l=[a.x,a.y,a.z].join(",");s[l]||(s[l]={x:a.x+=Math.random()*e*n,y:a.y+=Math.random()*e*n,z:a.z+=Math.random()*e*n});var u=s[l];i.setXYZ(c,u.x,u.y,u.z)}var h=.5+Math.random(),p=.5+Math.random(),d=.5+Math.random();o.scale(h,p,d);var f=o.clone(),m=de(r);return o.translate(r.x,r.y,r.z),f.translate(m.x,m.y,m.z),{realGeometry:o,loggedGeometry:f}},_e=function(e){function n(n,r){var o;return void 0===r&&(r=1e4),(o=e.call(this,3e6)||this).NAME=n,o.radius=r,o.model=new t.Group,o.getPosition=function(){var e=o.orbit.getXyzMeters();return new t.Vector3(e.x,e.y,e.z)},o.getRadius=function(){return o.radius},o.getOrbit=function(){return o.orbit},o.setIsOrbitVisible=function(e){o.SKprojectedOrbitLine.visible=e},o.orbit=new ge(n,H.ASTEROID),o.SKprojectedOrbitLine=o.orbit.getMorphedOrbitLine(),o._sceneEntityGroup.add(o.SKprojectedOrbitLine),o}h(n,e);var r=n.prototype;return r.init=function(){var e=l(p.mark((function e(){var n=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=l(p.mark((function e(r){var o,i,a;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=D+"/misc/asteroid-texture-1024.jpg",i=ye(n.radius),e.t0=t.Mesh,e.t1=i.realGeometry,e.t2=t.MeshPhongMaterial,e.next=7,O(o);case 7:e.t3=e.sent,e.t4={map:e.t3,shininess:0},e.t5=new e.t2(e.t4),a=new e.t0(e.t1,e.t5),n.model.add(a),n._toyGroup.push(n.model),n._sceneEntityGroup.add(n.model),r(n._sceneEntityGroup);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r.updateOrbitLine=function(){var e=this.getLogInterpolationParam();this.SKprojectedOrbitLine.morphTargetInfluences[0]=e},r.getDestinationPosition=function(e){void 0===e&&(e=0);var t=this.getLogInterpolationParam(),n=this.orbit.getPosition(e),r=de(n);return n.lerp(r,t)},r.update=function(){var e=this.getDestinationPosition();this.model.position.set(e.x,e.y,e.z),this.updateOrbitLine(),this._updateModelScale()},n}(B),be=function(e){function n(t,n){var r;return void 0===t&&(t=.3),void 0===n&&(n=1),(r=e.call(this)||this)._defaultIntensity=t,r._radius=n,r.NAME="Point Light",r.setPower=function(e){r._light.intensity=e||r._defaultIntensity},r.update=function(){},r}h(n,e);var r=n.prototype;return r.init=function(){var e=l(p.mark((function e(){var n=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){n._light=new t.PointLight(3355443,n._defaultIntensity);var r=new t.PointLightHelper(n._light,n._radius,new t.Color("red"));r.userData.isHelper=!0,n._sceneEntityGroup.add(n._light),n._sceneEntityGroup.add(r),e(n._sceneEntityGroup)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r.setIsOn=function(e){this._light.visible=e},n}(R),we=.1*V,ve=function(e){function n(n,r){var o;void 0===n&&(n="BIRDSEYE"),void 0===r&&(r=30),(o=e.call(this,1)||this).NAME=n,o.token=new t.Object3D,o.position=new t.Vector3(we,we,30*V),o.getPosition=function(){return o.token.position},o.getRadius=function(){return 1},o.position.setZ(r*V);var i=o.position;return o.token.position.set(i.x,i.y,i.z),o._sceneEntityGroup.add(o.token),o}h(n,e);var r=n.prototype;return r.init=function(){var e=l(p.mark((function e(){var t=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=l(p.mark((function e(n){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(t._sceneEntityGroup);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r.update=function(){},n}(B),Ee=function(e){return e instanceof ve?new t.Vector3(0,0,0):e.getPosition()},Te={FiPhone:o.FiPhone,AiOutlineSetting:i.AiOutlineSetting,IoIosSettings:a.IoIosSettings},Ae=function(e,t,n,r,o){void 0===o&&(o=("switch_created_"+(new Date).toISOString()).replace(/\s+/g,"")),E();var i=document.createElement("div");i.classList.add("switch-text-container"),i.style.setProperty("overflow-x","scroll"),i.id=o;var a=document.createElement("div");a.classList.add("title-text"),a.style.setProperty("justify-content","right"),a.style.setProperty("flex","1 0 220px"),a.style.setProperty("margin-right","10px"),a.style.setProperty("overflow-x","scroll"),a.innerHTML="<span>"+e+"</span>",i.append(a);var s=document.createElement("div");s.classList.add("switch-container"),s.style.setProperty("flex","0 0 70px"),i.append(s);var c=document.createElement("div");c.classList.add("on-off-text"),c.style.setProperty("justify-content","left"),c.style.setProperty("flex","1 0 calc(100% - 70px - 220px - 5px)"),c.style.setProperty("margin-left","10px"),c.innerHTML=" "+t+" ",i.append(c);var l=document.createElement("label");l.classList.add("switch"),s.append(l);var u=document.createElement("input");u.type="checkbox",u.checked=!1,l.append(u);var h=document.createElement("span");return h.classList.add("slider"),l.append(h),u.addEventListener("click",(function(){setTimeout((function(){r(),c.innerHTML=""+(u.checked?t:n)}),0)})),i},Pe=function(e){Object.keys(e).forEach((function(t){console.log("Key Value:",t,e[t]),localStorage.setItem(t,JSON.stringify(e[t]))}))},Se="settings-panel-id-"+n.v4(),Le=!1,xe=function(e){function n(n){var r;return(r=e.call(this,n)||this).sun=new z,r.isToyScale=!0,r.isOrbitsVisible=!0,r.isLogScale=!1,r.logScalables=[],r.zoomables=[],r.zoomableOrbitals=[],r.zoomTarget=r.sun,r.isZoomingPosition=!1,r.isZoomingAngle=!1,r.zoomTraversalFraction=0,r.zoomClock=new t.Clock,r.isScenePaused=!1,r.updateMessageField=function(){console.log("denied!")},r.setIsToyScale=function(e){r.isToyScale=!!e,r.toyScalables.forEach((function(e){return e.setIsZoomToToyScale(r.isToyScale)}))},r.toggleIsToyScale=function(){r.isToyScale=!r.isToyScale,r.setIsToyScale(r.isToyScale)},r.setIsOrbitsVisible=function(e){r.isOrbitsVisible=!!e,r.zoomableOrbitals.forEach((function(e){return e instanceof _e||e.setIsOrbitVisible(r.isOrbitsVisible)}))},r.toggleIsOrbitsVisible=function(){r.isOrbitsVisible=!r.isOrbitsVisible,r.setIsOrbitsVisible(r.isOrbitsVisible)},r.toggleAsteroids=function(){r.asteroidBelts.forEach((function(e){return e.toggleIsBeltVisible()}))},r.setIsLogScale=function(e){r.isLogScale=!!e,r.logScalables.forEach((function(e){return e.toggleIsLogScale()})),r.tryToStartZooming(r.isLogScale?"BIRDSEYELOG":"BIRDSEYE")},r.toggleIsLogScale=function(){r.isLogScale=!r.isLogScale,r.setIsLogScale(r.isLogScale)},r.tryToStartZooming=function(e){var n=e.toUpperCase(),o=r.zoomables.find((function(e){return e.NAME===n}));o&&(r.isZoomingPosition=!0,r.isZoomingAngle=!0,r.zoomTarget=o,r.zoomClock=new t.Clock(!0),r._controls.enabled=!0)},r.tryToStopZooming=function(){r.isZoomingAngle||r.isZoomingPosition||(r._controls.target=r.zoomTarget instanceof ve?new t.Vector3(0,0,0):r.zoomTarget.getPosition(),r._controls.enabled=!0)},r.updateCamera=function(){var e,n,o,i,a,s,c,l,u,h,p,d,f,m;if(r._clock.getElapsedTime(),r.isZoomingPosition||r.isZoomingAngle){if(r.zoomTraversalFraction=((n=(e=r.zoomClock.getElapsedTime())*e*e*.01)<0&&(n=0),n>1&&(n=1),n),r.isZoomingPosition&&(r.isZoomingPosition=(a=r._camera,s=r.zoomTraversalFraction,c=function(e){var n=e.getScale(),r=e.getRadius();if("SUN"===e.NAME){var o=e.getPosition();return new t.Vector3(o.x+3*r*n,o.y+3*r*n,o.z)}if(e instanceof ve)return e.getPosition();var i=e.getPosition().clone(),a=2*r*n/i.length(),s=Math.asin(a);i.applyAxisAngle(new t.Vector3(0,0,1),s);var c=(i.length()+4*r*n)/i.length();return i.multiplyScalar(c),i}(r.zoomTarget),d=new t.Vector3((l=c.x)-(p=a.position).x,(u=c.y)-p.y,(h=c.z)-p.z),m=!0,(o=f=new t.Vector3(p.x+d.x*s,p.y+d.y*s,p.z+d.z*s),i=new t.Vector3(l,u,h),new t.Vector3(i.x-o.x,i.y-o.y,i.z-o.z)).length()<1e-4*V&&(m=!1,f=new t.Vector3(l,u,h)),a.position.set(f.x,f.y,f.z),m)),r.isZoomingAngle)r.isZoomingAngle=function(e,n,r){var o=e.position,i=Ee(n),a=new t.Vector3(i.x-o.x,i.y-o.y,i.z-o.z),s=e.getWorldDirection(new t.Vector3);s.multiplyScalar(a.length());var c=new t.Vector3(a.x-s.x,a.y-s.y,a.z-s.z),l=new t.Vector3(e.position.x+s.x+c.x*r,e.position.y+s.y+c.y*r,e.position.z+s.z+c.z*r),u=!0;return a.angleTo(s)<.0025&&(u=!1,l=i),e.lookAt(l.x,l.y,l.z),u}(r._camera,r.zoomTarget,r.zoomTraversalFraction);else{var g=Ee(r.zoomTarget);r._camera.lookAt(g.x,g.y,g.z)}r.tryToStopZooming()}else r._controls.update()},r.updateMessageField=function(e){E();var t=document.createElement("div");return t.id="message-field",t.style.setProperty("position","absolute"),t.style.setProperty("left","50%"),t.style.setProperty("right","0px"),t.style.setProperty("bottom","0px"),t.style.setProperty("height","40px"),t.style.setProperty("display","flex"),t.style.setProperty("justify-content","flex-end"),t.style.setProperty("align-items","center"),t.style.setProperty("background-color","green"),e.append(t),function(e){t.innerHTML=e}}(r._container),r.updateMessageField("Working?"),function(e,t){E();var n=document.createElement("div"),r=document.createElement("input");n.style.setProperty("position","absolute"),n.style.setProperty("top","10px"),n.style.setProperty("left","10px"),n.style.setProperty("width","120px"),n.style.setProperty("height","40px"),n.style.setProperty("background-color","green"),r.value="Ceres",r.style.setProperty("width","100%"),r.style.setProperty("height","100%"),r.style.setProperty("font-size","20px"),r.style.setProperty("font-family","'Odibee Sans', cursive"),r.style.setProperty("font-size","20px"),r.classList.add("sbn-solar-system-viewer-input"),r.addEventListener("keypress",(function(e){"Enter"===e.key&&t(r.value)})),n.append(r),e.append(n)}(r._container,r.tryToStartZooming),function(e){if(!e)throw new Error("Canvas Container is Falsy!");var t=document.createElement("div");t.style.setProperty("position","absolute"),t.style.setProperty("top","0px"),t.style.setProperty("right","0px"),t.style.setProperty("height","70px"),t.style.setProperty("width","70px"),t.style.setProperty("display","flex"),t.style.setProperty("justify-content","center"),t.style.setProperty("align-items","center"),t.style.setProperty("z-index","2"),t.innerHTML=function(e,t){void 0===t&&(t={});var n=Te.IoIosSettings({}),r=t.size||20;return'\n    <svg\n      stroke="'+(t.strokeColor||"white")+'"\n      fill="'+(t.fillColor||"none")+'"\n      stroke-width="'+(t.strokeWidth||2)+'"\n      viewBox="'+n.props.attr.viewBox+'"\n      stroke-linecap="round"\n      stroke-linejoin="round"\n      height="'+r+'"\n      width="'+r+'"\n      xmlns="http://www.w3.org/2000/svg"\n    >\n      <path\n        d="'+n.props.children[0].props.d+'"\n      </path>\n    </svg>'}(0,{fillColor:"white",size:70}),t.addEventListener("click",(function(){console.log("Hmmm");var e=document.getElementById(Se);e&&(console.log("objecHmmm 2t"),e.style.setProperty("right",(Le=!Le)?"100%":"0%"))})),e.append(t)}(r._container),function(e){if(console.log("Adding settings panel?"),E(),!e)throw new Error("Canvas Container is Falsy!");var t=document.createElement("div");t.id=Se,t.style.setProperty("position","absolute"),t.style.setProperty("top","0px"),t.style.setProperty("right","100%"),t.style.setProperty("right","0%"),t.style.setProperty("left","0px"),t.style.setProperty("bottom","0px"),t.style.setProperty("transition","right 1s ease-in-out"),t.style.setProperty("overflow","hidden"),t.style.setProperty("background-color","pink"),t.style.setProperty("display","flex"),t.style.setProperty("flex-direction","column"),t.style.setProperty("gap","5px"),t.style.setProperty("justify-content","center"),t.style.setProperty("align-items","center");var n=Ae("Planet Loading Mode?","Async (Start Animation Before Planets Are Loaded) XXX  XXX  XXX  XXX  XXX  XXX  XXX  XXX  XXX  XXX  XXX  XXX  XXX  XXX  XXX  XXX  XXX ","Sync (Wait Till Planets Are Loaded)",(function(){Pe({__sbnViewer__planetLoadingMode:(N().__sbnViewer__planetLoadingMode+1)%v.__LENGTH__})}));t.append(n);var r=Ae("Comet-Asteroid Loading Mode?","Async (Start Before Loaded)","Sync (Wait Till Loaded)",(function(){Pe({__sbnViewer__cometAsteroidLoadingMode:(N().__sbnViewer__cometAsteroidLoadingMode+1)%b.__LENGTH__})}),"planet-sync");t.append(r);var o=Ae("Comet-Asteroid Abundance Representation Mode?","Toy Model","Real World Proportions",(function(){Pe({__sbnViewer__cometAsteroidAbundanceRepresentationMode:(N().__sbnViewer__cometAsteroidAbundanceRepresentationMode+1)%w.__LENGTH__})}),"planet-sync");t.append(o),e.append(t)}(r._container),r.birdsEyes=[new ve,new ve("BIRDSEYELOG",5)],r.planets=[],r.asteroids=[],r.asteroidBelts=[],r.starField=new j(_(999)),r.zoomables=[].concat(r.planets,r.asteroids,r.birdsEyes,[r.sun]),r.zoomableOrbitals=[].concat(r.planets,r.asteroids),r.toyScalables=[].concat(r.planets,r.asteroids,r.asteroidBelts,[r.sun]),r.logScalables=[].concat(r.planets,r.asteroids,r.asteroidBelts),P("Begin registering entities"),r.registerSceneEntities([new C,new U(.4),new be(5,696342e3)].concat(r.planets,r.asteroids,r.asteroidBelts,[r.sun])),P("Finish registering entities"),r._preInitHook=function(){var e=_(4);r._initialViewingVector=new t.Vector3(0,0,e)},r._postInitHook=function(){r._controls.maxDistance=_(100),r.setHelpersVisibility(!1),r._camera.position.set(35426284497.8745,-725267146538.4939,-111665855099.58893)},setTimeout((function(){r.setIsToyScale(!0),r.tryToStartZooming("BIRDSEYE")}),3500),r._camera.up.set(1,1,1),r._destroyHook=function(){},r}return h(n,e),n.prototype.setIsScenePaused=function(e){this.isScenePaused=e,this.isScenePaused?(this._clock.stop(),this.setIsLoaderDivVisible(!0,0)):(this._clock.start(),this.setIsLoaderDivVisible(!1,0))},n}(x);e.initDate=new Date;var Oe=function(t){return e.initDate=t},Me=function(){return e.initDate};function Ie(e){if(void 0===e&&(e="threejs-canvas-container"),!document.getElementById(e))throw new Error("Can't find div of id "+e);(fe=new xe(e)).init()}function ke(){fe.destroy()}e.SbnSolarSystemViewer=function(e){var t=u({width:"100%",height:"100%",backgroundColor:"grey"},e),n=t.width,r=t.height,o=t.backgroundColor,i="this-id-will-never-be-duplicated-says-007";return s.useEffect((function(){return Ie(i),function(){ke(),console.log("Widget app removed!!!")}}),[]),s.createElement("div",{id:i,style:{width:n,height:r,backgroundColor:o}})},e.destroy=ke,e.getInitDate=Me,e.init=Ie,e.setInitDate=Oe,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=sbnsolarsystemviewer.umd.production.min.js.map
